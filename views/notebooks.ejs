<!-- 笔记本 -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Marvel Note</title>
    <link rel="stylesheet" href="/layui/css/layui.css">
    <link rel="stylesheet" href="/stylesheets/notebooks.css">
    <style>
        body {
            margin: 7px;
        }
    </style>
</head>
<body class="layui-layout-body">
<div class="layui-layout layui-layout-admin">
    <% include ./header.ejs %>

    <div class="layui-side layui-bg-black" style="width: 99%;margin: 15px 7px 7px;top: 53px;">
        <div class="layui-side-scroll" style="width: 100%;padding: 15px;padding-bottom: 25px">

            <!-- 添加按钮 -->
            <div class="layui-col-xs-offset10 layui-col-xs2">
                <p class="layui-col-xs-offset2 layui-col-xs6"
                   style="font-size:16px;text-align: right;margin-top: 6px;margin-right: 5px">添加笔记本</p>
                <button class="add_nb layui-col-xs2 layui-btn layui-btn-radius layui-btn-sm layui-btn">
                    <i class="layui-icon">&#xe61f;</i>
                </button>
            </div>

            <!-- 笔记本 -->
            <div class="layui-col-xs12">
                <div class="layui-col-xs3">
                    <div class="nb1">
                        <label class="layui-col-xs12" style="text-align: center">
                            <img alt="Background" src="/images/nb_covers/notebook0.png" style="max-width: 100% ">
                        </label>
                        <p class="nb_id" style="display: none">0</p>
                        <p class="nb_id" style="display: none">0</p>
                        <h4 class="layui-col-xs12" style="text-align: center">笔记本1</h4>
                        <p class="layui-col-xs12" style="font-size: 12px">
                            描述：这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本</p>
                        <button class="delete_nb layui-col-xs-offset5 layui-col-xs2 layui-btn layui-btn-sm layui-btn-danger">
                            <i class="layui-icon">&#xe640;</i>
                        </button>
                    </div>
                </div>
                <div class="layui-col-xs3">
                    <div class="nb1">
                        <label class="layui-col-xs12" style="text-align: center">
                            <img alt="Background" src="/images/nb_covers/notebook1.png" style="max-width: 100% ">
                        </label>
                        <p class="nb_id" style="display: none">0</p>
                        <h4 class="layui-col-xs12" style="text-align: center">笔记本1</h4>
                        <p class="layui-col-xs12" style="font-size: 12px">
                            描述：这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本</p>
                        <button class="delete_nb layui-col-xs-offset5 layui-col-xs2 layui-btn layui-btn-sm layui-btn-danger">
                            <i class="layui-icon">&#xe640;</i>
                        </button>
                    </div>
                </div>
                <div class="layui-col-xs3">
                    <div class="nb1">
                        <label class="layui-col-xs12" style="text-align: center">
                            <img alt="Background" src="/images/nb_covers/notebook2.png" style="max-width: 100% ">
                        </label>
                        <p class="nb_id" style="display: none">0</p>
                        <h4 class="layui-col-xs12" style="text-align: center">笔记本1</h4>
                        <p class="layui-col-xs12" style="font-size: 12px">
                            描述：这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本</p>
                        <button class="delete_nb layui-col-xs-offset5 layui-col-xs2 layui-btn layui-btn-sm layui-btn-danger">
                            <i class="layui-icon">&#xe640;</i>
                        </button>
                    </div>
                </div>
                <div class="layui-col-xs3">
                    <div class="nb1">
                        <label class="layui-col-xs12" style="text-align: center">
                            <img alt="Background" src="/images/nb_covers/notebook3.png" style="max-width: 100% ">
                        </label>
                        <p class="nb_id" style="display: none">0</p>
                        <h4 class="layui-col-xs12" style="text-align: center">笔记本1</h4>
                        <p class="layui-col-xs12" style="font-size: 12px">
                            描述：这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本</p>
                        <button class="delete_nb layui-col-xs-offset5 layui-col-xs2 layui-btn layui-btn-sm layui-btn-danger">
                            <i class="layui-icon">&#xe640;</i>
                        </button>
                    </div>
                </div>
                <div class="layui-col-xs3">
                    <div class="nb2">
                        <label class="layui-col-xs12" style="text-align: center">
                            <img alt="Background" src="/images/nb_covers/notebook4.png" style="max-width: 100% ">
                        </label>
                        <p class="nb_id" style="display: none">0</p>
                        <h4 class="layui-col-xs12" style="text-align: center">笔记本1</h4>
                        <p class="layui-col-xs12" style="font-size: 12px">
                            描述：这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本</p>
                        <button class="delete_nb layui-col-xs-offset5 layui-col-xs2 layui-btn layui-btn-sm layui-btn-danger">
                            <i class="layui-icon">&#xe640;</i>
                        </button>
                    </div>
                </div>
                <div class="layui-col-xs3">
                    <div class="nb2">
                        <label class="layui-col-xs12" style="text-align: center">
                            <img alt="Background" src="/images/nb_covers/notebook5.png" style="max-width: 100% ">
                        </label>
                        <p class="nb_id" style="display: none">0</p>
                        <h4 class="layui-col-xs12" style="text-align: center">笔记本1</h4>
                        <p class="layui-col-xs12" style="font-size: 12px">
                            描述：这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本</p>
                        <button class="delete_nb layui-col-xs-offset5 layui-col-xs2 layui-btn layui-btn-sm layui-btn-danger">
                            <i class="layui-icon">&#xe640;</i>
                        </button>
                    </div>
                </div>
                <div class="layui-col-xs3">
                    <div class="nb2">
                        <label class="layui-col-xs12" style="text-align: center">
                            <img alt="Background" src="/images/nb_covers/notebook6.png" style="max-width: 100% ">
                        </label>
                        <p class="nb_id" style="display: none">0</p>
                        <h4 class="layui-col-xs12" style="text-align: center">笔记本1</h4>
                        <p class="layui-col-xs12" style="font-size: 12px">
                            描述：这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本</p>
                        <button class="delete_nb layui-col-xs-offset5 layui-col-xs2 layui-btn layui-btn-sm layui-btn-danger">
                            <i class="layui-icon">&#xe640;</i>
                        </button>
                    </div>
                </div>
                <div class="layui-col-xs3">
                    <div class="nb2">
                        <label class="layui-col-xs12" style="text-align: center">
                            <img alt="Background" src="/images/nb_covers/notebook7.png" style="max-width: 100% ">
                        </label>
                        <p class="nb_id" style="display: none">0</p>
                        <h4 class="layui-col-xs12" style="text-align: center">笔记本1</h4>
                        <p class="layui-col-xs12" style="font-size: 12px">
                            描述：这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本</p>
                        <button class="delete_nb layui-col-xs-offset5 layui-col-xs2 layui-btn layui-btn-sm layui-btn-danger">
                            <i class="layui-icon">&#xe640;</i>
                        </button>
                    </div>
                </div>
                <div class="layui-col-xs3">
                    <div class="nb2">
                        <label class="layui-col-xs12" style="text-align: center">
                            <img alt="Background" src="/images/nb_covers/notebook8.png" style="max-width: 100% ">
                        </label>
                        <p class="nb_id" style="display: none">0</p>
                        <h4 class="layui-col-xs12" style="text-align: center">笔记本1</h4>
                        <p class="layui-col-xs12" style="font-size: 12px">
                            描述：这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本</p>
                        <button class="delete_nb layui-col-xs-offset5 layui-col-xs2 layui-btn layui-btn-sm layui-btn-danger">
                            <i class="layui-icon">&#xe640;</i>
                        </button>
                    </div>
                </div>
                <div class="layui-col-xs3">
                    <div class="nb2">
                        <label class="layui-col-xs12" style="text-align: center">
                            <img alt="Background" src="/images/nb_covers/notebook9.png" style="max-width: 100% ">
                        </label>
                        <p class="nb_id" style="display: none">0</p>
                        <h4 class="layui-col-xs12" style="text-align: center">笔记本1</h4>
                        <p class="layui-col-xs12" style="font-size: 12px">
                            描述：这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本</p>
                        <button class="delete_nb layui-col-xs-offset5 layui-col-xs2 layui-btn layui-btn-sm layui-btn-danger">
                            <i class="layui-icon">&#xe640;</i>
                        </button>
                    </div>
                </div>
                <div class="layui-col-xs3">
                    <div class="nb2">
                        <label class="layui-col-xs12" style="text-align: center">
                            <img alt="Background" src="/images/nb_covers/notebook10.png" style="max-width: 100% ">
                        </label>
                        <p class="nb_id" style="display: none">0</p>
                        <h4 class="layui-col-xs12" style="text-align: center">笔记本1</h4>
                        <p class="layui-col-xs12" style="font-size: 12px">
                            描述：这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本</p>
                        <button class="delete_nb layui-col-xs-offset5 layui-col-xs2 layui-btn layui-btn-sm layui-btn-danger">
                            <i class="layui-icon">&#xe640;</i>
                        </button>
                    </div>
                </div>
                <div class="layui-col-xs3">
                    <div class="nb2">
                        <label class="layui-col-xs12" style="text-align: center">
                            <img alt="Background" src="/images/nb_covers/notebook11.png" style="max-width: 100% ">
                        </label>
                        <p class="nb_id" style="display: none">0</p>
                        <h4 class="layui-col-xs12" style="text-align: center">笔记本1</h4>
                        <p class="layui-col-xs12" style="font-size: 12px">
                            描述：这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本</p>
                        <button class="delete_nb layui-col-xs-offset5 layui-col-xs2 layui-btn layui-btn-sm layui-btn-danger">
                            <i class="layui-icon">&#xe640;</i>
                        </button>
                    </div>
                </div>
                <div class="layui-col-xs3">
                    <div class="nb2">
                        <label class="layui-col-xs12" style="text-align: center">
                            <img alt="Background" src="/images/nb_covers/notebook12.png" style="max-width: 100% ">
                        </label>
                        <p class="nb_id" style="display: none">0</p>
                        <h4 class="layui-col-xs12" style="text-align: center">笔记本1</h4>
                        <p class="layui-col-xs12" style="font-size: 12px">
                            描述：这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本</p>
                        <button class="delete_nb layui-col-xs-offset5 layui-col-xs2 layui-btn layui-btn-sm layui-btn-danger">
                            <i class="layui-icon">&#xe640;</i>
                        </button>
                    </div>
                </div>
                <div class="layui-col-xs3">
                    <div class="nb2">
                        <label class="layui-col-xs12" style="text-align: center">
                            <img alt="Background" src="/images/nb_covers/notebook13.png" style="max-width: 100% ">
                        </label>
                        <p class="nb_id" style="display: none">0</p>
                        <h4 class="layui-col-xs12" style="text-align: center">笔记本1</h4>
                        <p class="layui-col-xs12" style="font-size: 12px">
                            描述：这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本</p>
                        <button class="delete_nb layui-col-xs-offset5 layui-col-xs2 layui-btn layui-btn-sm layui-btn-danger">
                            <i class="layui-icon">&#xe640;</i>
                        </button>
                    </div>
                </div>
                <div class="layui-col-xs3">
                    <div class="nb2">
                        <label class="layui-col-xs12" style="text-align: center">
                            <img alt="Background" src="/images/nb_covers/notebook14.png" style="max-width: 100% ">
                        </label>
                        <p class="nb_id" style="display: none">0</p>
                        <h4 class="layui-col-xs12" style="text-align: center">笔记本1</h4>
                        <p class="layui-col-xs12" style="font-size: 12px">
                            描述：这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本这个笔记本是宝宝的第一个笔记本</p>
                        <button class="delete_nb layui-col-xs-offset5 layui-col-xs2 layui-btn layui-btn-sm layui-btn-danger">
                            <i class="layui-icon">&#xe640;</i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- include libraries(jQuery, bootstrap, fontawesome) -->
<link href="/stylesheets/bootstrap.css" rel="stylesheet">
<link href="/stylesheets/font-awesome.min.css" rel="stylesheet">
<script src="/javascripts/jquery-3.2.1.min.js"></script>
<script src="/javascripts/bootstrap.js"></script>

<script src="/layui/layui.js"></script>
<script>
  layui.use('element', function () {
    var element = layui.element;
  });

  $('.add_nb').click(function (e) {

    layui.define(['layer'], function (exports) {
      var layer = layui.layer;

      var html_content =
        '<div class="layui-bg-black" style="width: 570px;height: 670px;margin: 10px 15px;">\n' +
        '    <!-- 笔记本名字 -->\n' +
        '    <div class="layui-col-xs12" style="margin-left: 10px;margin-top: 10px;">\n' +
        '        <label class="layui-col-xs3" style="font-size: 18px;color: #BDC0BA">您的笔记本名称</label>\n' +
        '        <div class=" layui-col-xs4 note_title_outer" style="margin-top: -4px;">\n' +
        '            <input type="text" class=" note_title" placeholder="默认笔记本" style="font-size: 18px">\n' +
        '        </div>\n' +
        '    </div>\n' +
        '\n' +
        '    <hr class="layui-bg-gray" style="margin-left: 10px;margin-right: 10px;">\n' +
        '    <!-- 选择笔记本封面图片 -->\n' +
        '    <div class="layui-col-xs12" style="margin-left: 10px;margin-top: -10px;">\n' +
        '        <label class="layui-col-xs12" style="font-size: 18px;color: #BDC0BA">您的笔记本封面</label>\n' +
        '        <div class="select_cover layui-col-xs3">\n' +
        '            <img alt="Background" src="/images/nb_covers/notebook0.png" style="max-width: 100%;padding: 5px;margin: 5px;">\n' +
        '        </div>\n' +
        '        <div class="select_cover layui-col-xs3">\n' +
        '            <img alt="Background" src="/images/nb_covers/notebook1.png" style="max-width: 100%;padding: 5px;margin: 5px;">\n' +
        '        </div>\n' +
        '        <div class="select_cover layui-col-xs3">\n' +
        '            <img alt="Background" src="/images/nb_covers/notebook2.png" style="max-width: 100%;padding: 5px;margin: 5px;">\n' +
        '        </div>\n' +
        '        <div class="select_cover layui-col-xs3">\n' +
        '            <img alt="Background" src="/images/nb_covers/notebook3.png" style="max-width: 100%;padding: 5px;margin: 5px;">\n' +
        '        </div>\n' +
        '        <div class="select_cover layui-col-xs3">\n' +
        '            <img alt="Background" src="/images/nb_covers/notebook4.png" style="max-width: 100%;padding: 5px;margin: 5px;">\n' +
        '        </div>\n' +
        '        <div class="select_cover layui-col-xs3">\n' +
        '            <img alt="Background" src="/images/nb_covers/notebook5.png" style="max-width: 100%;padding: 5px;margin: 5px;">\n' +
        '        </div>\n' +
        '        <div class="select_cover layui-col-xs3">\n' +
        '            <img alt="Background" src="/images/nb_covers/notebook6.png" style="max-width: 100%;padding: 5px;margin: 5px;">\n' +
        '        </div>\n' +
        '        <div class="select_cover layui-col-xs3">\n' +
        '            <img alt="Background" src="/images/nb_covers/notebook7.png" style="max-width: 100%;padding: 5px;margin: 5px;">\n' +
        '        </div>\n' +
        '        <div class="select_cover layui-col-xs3">\n' +
        '            <img alt="Background" src="/images/nb_covers/notebook8.png" style="max-width: 100%;padding: 5px;margin: 5px;">\n' +
        '        </div>\n' +
        '        <div class="select_cover layui-col-xs3">\n' +
        '            <img alt="Background" src="/images/nb_covers/notebook9.png" style="max-width: 100%;padding: 5px;margin: 5px;">\n' +
        '        </div>\n' +
        '        <div class="select_cover layui-col-xs3">\n' +
        '            <img alt="Background" src="/images/nb_covers/notebook10.png" style="max-width: 100%;padding: 5px;margin: 5px;">\n' +
        '        </div>\n' +
        '        <div class="select_cover layui-col-xs3">\n' +
        '            <img alt="Background" src="/images/nb_covers/notebook11.png" style="max-width: 100%;padding: 5px;margin: 5px;">\n' +
        '        </div>\n' +
        '        <div class="select_cover layui-col-xs3">\n' +
        '            <img alt="Background" src="/images/nb_covers/notebook12.png" style="max-width: 100%;padding: 5px;margin: 5px;">\n' +
        '        </div>\n' +
        '        <div class="select_cover layui-col-xs3">\n' +
        '            <img alt="Background" src="/images/nb_covers/notebook13.png" style="max-width: 100%;padding: 5px;margin: 5px;">\n' +
        '        </div>\n' +
        '        <div class="select_cover layui-col-xs3">\n' +
        '            <img alt="Background" src="/images/nb_covers/notebook14.png" style="max-width: 100%;padding: 5px;margin: 5px;">\n' +
        '        </div>\n' +
        '    </div>\n' +
        '</div>';

      // TODO 调用模态框输入笔记本的姓名，并选择样式，再保存
      layer.open({
        type: 1,
        title: ['添加笔记本', 'font-size:24px;color:#393D48'],
        content: html_content,
        skin: 'layui-layer-blu',
        area: ['600px', '360px'],
        move: false,
        shade: [0.75, '#000'],
        anim: 1,
        resize: false,
        btn: ['确认添加'],
        yes: function (index, layero) {
          alert("xixixxi");
          // var fakeData = {
          //   nb_name: "笔记本",
          //   nb_icon_id: 5,
          //   user_id: 'charles'
          // };
          //
          // $.ajax({
          //   type: "post",
          //   async: true,
          //   url: "/notebooks/add_nb",
          //   data: fakeData,
          //
          //   success: function (result) {
          //     alert(result);
          //   },
          //   error: function (result) {
          //     alert("错误" + result);
          //   }
          // });

        },
        cancel: function () {

        },
        closeBtn: 2
      });
    });
  });

  $('.delete_nb').click(function (e) {
    var data = {
      nb_id: $(this).parent().find(".nb_id").html()
    };

    $.ajax({
      type: "post",
      async: true,
      url: "/notebooks/delete_nb",
      data: data,

      success: function (result) {
        alert(result);
      },
      error: function (result) {
        alert("错误" + result);
      }
    });
  });

  // 点选封面之后要有改变
  $('.select_cover').click(function () {
    alert("aaa");
    $(".select_cover").each(function () {
      $(this).css("border", "0px");
    });
    $(this).css("border", "2px solid red");
  });


</script>
</body>
</html>